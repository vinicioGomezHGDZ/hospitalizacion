<br>
<!-- Div de encabesado -->
<div class="row">
  <div class="col-sm-2">
  <H6></H6>
  </div>
  <div class="col-sm-10">
  <h6 class="text-right">SOLICITUD PARA PRUEBA DE DIAGNÓSTICO Y CONTROL BACTERIOLOGICO DE TUBERCULOSIS</h6>
  </div>
</div>


<div ng-include='"src/sgh/encabezado/encabezadolaboratorio.html"'></div>

</center>

<!--NUEVO REGISTRO -->

<!-- Modal -->

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div ng-show="g">
      <div class="modal-header">
        <button id="closemodal" type="button" class="close" data-dismiss="modal" aria-label="Close">
        
        </button>
         <h5 class="modal-title" id="myModalLabel">Nueva Solicitud</h5>
      </div>
      </div>
      <div class="modal-body">

      <div ng-model="datosAguardar">

          <form >
          <!--Contenido del formulario-->
            <div class="table table-responsive">       
               <table class=" table">  
                  <tr>  
                      <th> Solicitud de : </th>
                      <td> BK </td>
                      <td><input type="checkbox" ng-model="datosAguardar.bac_bk" checked class="ace" >   <span class="lbl"> </span></td>
                      <td>CULTIVO</td>
                      <td><input type="checkbox" ng-model="datosAguardar.bac_cultivo" checked  class="ace">   <span class="lbl"> </span></td>

                      <td>ADA</td>
                        <span class="lbl"> </span>
                      <td><input type="checkbox" ng-model="datosAguardar.bac_ada" checked  class="ace">   <span class="lbl"> </span></td>
                     
                      <td>PSD:</td>
                     
                     
                      <td>GENEXPERT<input type="radio" ng-model="datosAguardar.bac_psd" value="GENEXPERT"  class="ace"> <span class=" lbl">  </span></td>
                     
                      <td>GRIESS<input type="radio" ng-model="datosAguardar.bac_psd" value="GRIESS"  class="ace">  <span class="lbl"> </span></td>
                     
                      <td>1ra LINEA<input type="radio" ng-model="datosAguardar.bac_psd" value="1ra LINEA"  class="ace">  <span class="lbl"> </span></td>
                     
                      <td>2DA lINEA<input type="radio" ng-model="datosAguardar.bac_psd" value="2DA lINEA"  class="ace">  <span class="lbl"> </span></td>

                  </tr>
               </table> 

               <table class="table">  
                  <tr>  
                      <th>EXÁMEN PARA:</th>
                      <td>diag</td>
                      <td><input type="checkbox" ng-model="datosAguardar.bac_diag" checked class="ace" ><span class="lbl"> </span></td>
                      <td>Control</td>
                      <td><input type="checkbox" ng-model="datosAguardar.bac_control" checked class="ace" >   <span class="lbl"> </span></td>
                      <td>Mes:</td>
                      <td><input type="text" ng-model="datosAguardar.bac_mes" capitalize maxlength="10" class="input-sm"></td>
                      <td>Esquema de tratamiento:</td>
                      <td><input type="text" ng-model="datosAguardar.bac_esqtra"  capitalize maxlength="15"  class=" input-sm"></td>
                      
                  </tr>
               </table> 

                <table class="table"> 
                  <tr> 
                      <th>TIPO DE MUESTRA: </th>
                      <td>Esputo</td>
                      <td><input type="checkbox" ng-model="datosAguardar.bac_esputo" checked class="ace" ><span class="lbl"> </span></td>
                      <td>Otro (especifique):</td>
                      <td><input type="text" ng-model="datosAguardar.bac_otrom"  capitalize maxlength="10"  class=" input-sm" size="40"></td>
                  </tr>
                </table>

                <table class=" table"> 
                    <tr>  
                        <th>TIPO DE PACIENTE: </th>
                      <fieldset>     
                        <td>Abandonado</td>
                        <td><input type="checkbox" ng-model="datosAguardar.bac_abando" checked class="ace" ><span class="lbl"> </span></td>
                        <td>Recuperado</td>
                        <td><input type="checkbox" ng-model="datosAguardar.bac_recupe" checked class="ace" ><span class="lbl"> </span></td>
                        <td>Fracaso</td>
                        <td><input type="checkbox" ng-model="datosAguardar.bac_fracas" checked class="ace" ><span class="lbl"> </span></td>
                        <td>Recaída</td>
                        <td><input type="checkbox" ng-model="datosAguardar.bac_recaid" checked class="ace" ><span class="lbl"> </span></td>
                        <td>SR BK (-)</td>
                        <td><input type="checkbox" ng-model="datosAguardar.bac_sr_bk" checked class="ace" ><span class="lbl"> </span></td>
                        <td>TB DR(tipo):</td>
                        <td><input type="text" ng-model="datosAguardar.bac_tb_dr"  capitalize maxlength="20"  class=" input-sm" size="8"></td>
                      </fieldset>  
                    </tr>
                </table>

                <table class="table"> 
                    <th>ENFERMEDADES ASOCIADA: </th>
                    <td> PVV</td>
                    <td><input type="checkbox" ng-model="datosAguardar.bac_pvv" checked class="ace" ><span class="lbl"> </span></td>
                    <td>Diabetes</td>
                    <td><input type="checkbox" ng-model="datosAguardar.bac_diabetes" checked class="ace" ><span class="lbl"> </span></td>
                    <td>Otros:</td>
                    <td><input type="text" ng-model="datosAguardar.bac_tb_otroe"  capitalize maxlength="20"  class=" input-sm" size="40"></td>
                </table>
                <table class="table">   
                    <tr>  
                        <th>FACTORES DE RIESGP: </th>
                        <td>Empleado de salud</td>
                        <td><input type="checkbox" ng-model="datosAguardar.bac_emdesa" checked class="ace" ><span class="lbl"> </span></td>
                        <td>PPL</td>
                        <td><input type="checkbox" ng-model="datosAguardar.bac_ppl" checked class="ace" ><span class="lbl"> </span></td>
                        <td>Contacto TBDR (Nombre de caso Índice):</td>
                        <td><input type="text" ng-model="datosAguardar.bac_tbdr"  capitalize maxlength="20"  class=" input-sm" ></td>
                    </tr>  
                </table>  
            </div>     
             <div class="row text-right">
                <button ng-disabled="actguarda" ng-show="g" type="submit" class="btn btn-white btn-info btn-round" ng-click="guardar()">
                 <i class="ace-icon fa fa-floppy-o bigger-120 blue"></i>Guardar
                      </button>
                <button class="btn btn-white btn-default btn-round" ng-click="cancelar()">
                  <i class="ace-icon fa fa-times red2"></i>Cancelar
                </button> 
                </div>
       </form>
       <!--div mensaje de guardado -->
            <div class="animate fadeInDown"  ng-show="mensaje">            
                     <center><H4 class="alert alert-info"><strong>{{text}}</strong></H4></center>
            </div>  <!--/div mensaje de guardado -->
    
    </div><!--/div datos guardar-->

  </div><!--dibo body modal-->
</div><!--modal-content-->
</div><!--modal-dialog modal-lg-->
</div><!--div fin de modal-->

<!--TABLA DE REGISTRO --> 


   <div class="row"> 
         <div class="col-sm-11" ><!-- -->
            <input type="text" class="form-control" placeholder="Buscar " ng-model="search" capitalize>
          </div>
           <div class="col-sm-1">             
              <button id="n" type="button" class="btn btn-white btn-default btn-round" data-toggle="modal" data-target="#myModal" ng-disabled="admi">Nuevo</button>
            </div>
   </div>
    <br>
     <div class="animate fadeInDown"  ng-show="mensaje2">            
        <center><H4 class="alert alert-info"><strong>{{text2}}</strong></H4></center>
    </div>  <!--/div mensaje de guardado -->
      <div class="table-responsive">
        <table id ="tabla" class="table" > 
          <thead>
          <tr>
              <th class="bt_tab, th"><center>CÓDIGO</center></th>
              <th class="width-20-pct, th"><center>FECHA</center></th>
              <th class="bt_tab, th"><center>VER</center></th>
              <th class="bt_tab, th"><center>RESULTADO</center></th>
          </tr>
          </thead>

          <tbody>  
            <tr ng-repeat="bac in bacteriologico | filter:search | limitTo:item:(pagina * totalpaginas)">
                <th class="bt_tab"><center>{{bac.bac_id_pk}}</center></th>
                <td class="width-30-pct "><center>{{bac.bac_fecha | date:'dd/MM/yyyy'}}</center></td>
              <td class="bt_tab">
              <center>
              <button class="btn btn-white btn-default btn-round btn-xs" ng-click="bact(bac.bac_id_pk)"><i class="ace-icon fa  fa-eye red2"/></button>
              </center>
              </td>
               <td class="bt_tab">
              <center>
               <a href="/archivos/sgh/bacteriologico/{{bac.bac_result}}" target="_blank"> <button  ng-disabled="activa_desactiva(bac.bac_result)"  class="btn btn-white btn-default btn-round btn-xs" ><i class="ace-icon fa fa-folder-open red2"/></button></a>
              </center>
              </td> 
            </tr>
          </tbody>
      
      </table>
     </div>
   <th class="th">
  
    <center>
            <button type="button" class="btn btn-white btn-default btn-round btn-xs"  ng-click="pagina=1"><<</button>             
            <button type="button" class="btn btn-white btn-default btn-round btn-xs"  ng-click="paginas(0)"><</button>  
                       | Page {{pagina}} de {{posicion}} |      
            <button type="button" class="btn btn-white btn-default btn-round btn-xs" ng-click="paginas(1)">></button>
            <button type="button" class="btn btn-white btn-default btn-round btn-xs" ng-click="pagina = posicion">>></button>

            </center>
    </th>
             
